{"version":3,"sources":["sci/impl/io.cljc"],"mappings":"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","names":["sci.impl.io/in","*unrestricted*-orig-val__58363","*unrestricted*-temp-val__58364","sci.impl.unrestrict/*unrestricted*","G__58365","sci.impl.vars.dynamic_var.cljs$core$IFn$_invoke$arity$1","sci.impl.vars/unbind","sci.impl.io/out","*unrestricted*-orig-val__58366","*unrestricted*-temp-val__58367","G__58368","sci.impl.io/err","*unrestricted*-orig-val__58370","*unrestricted*-temp-val__58371","G__58372","sci.impl.io/print-length","sci.impl.vars.dynamic_var.cljs$core$IFn$_invoke$arity$2","var_args","args__4795__auto__","len__4789__auto__","i__4790__auto__","argseq__4796__auto__","cljs.core/IndexedSeq","sci.impl.io/pr","seq58373","self__4777__auto__","cljs.core/seq","objs","*print-length*-orig-val__58376","*print-length*-temp-val__58377","cljs.core/deref","cljs.core/*print-length*","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/pr-str","sci.impl.io/flush","sci.impl.io/newline","sci.impl.io/println","sci.impl.io/prn","seq58378","*print-length*-orig-val__58380","*print-length*-temp-val__58381","cljs.core/prn-str","sci.impl.io/print","seq58384","*print-length*-orig-val__58385","*print-length*-temp-val__58386","cljs.core/print-str","seq58387","*print-length*-orig-val__58388","*print-length*-temp-val__58389","cljs.core/println-str","sci.impl.io/with-out-str","cljs.core.sequence.cljs$core$IFn$_invoke$arity$1","cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic","cljs.core/List","cljs.core/vec","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","seq58391","G__58392","cljs.core/first","cljs.core/next","G__58393","self__4776__auto__","_","body"],"sourcesContent":["(ns sci.impl.io\n  {:no-doc true}\n  (:refer-clojure :exclude [pr prn print println newline flush with-out-str\n                            with-in-str read-line printf\n                            #?@(:cljs [string-print])])\n  (:require #?(:clj [sci.impl.io :as sio])\n            #?(:cljs [goog.string])\n            [sci.impl.unrestrict :refer [*unrestricted*]]\n            [sci.impl.vars :as vars]))\n\n#?(:clj (set! *warn-on-reflection* true))\n\n(def in (binding [*unrestricted* true]\n          (doto (vars/dynamic-var '*in*)\n                                        (vars/unbind))))\n\n(def out (binding [*unrestricted* true]\n           (doto (vars/dynamic-var '*out*)\n             (vars/unbind))))\n\n(def err (binding [*unrestricted* true]\n           (doto (vars/dynamic-var '*err*)\n             (vars/unbind))))\n\n;; used in print-sequential\n(def print-length (vars/dynamic-var '*print-length* nil))\n\n#?(:clj (defn pr-on\n          {:private true\n           :static true}\n          [x w]\n          (if *print-dup*\n            (print-dup x w)\n            (print-method x w))\n          nil))\n\n#?(:clj (defn pr\n          ([] nil)\n          ([x]\n           (binding [*print-length* @print-length]\n             (pr-on x @out)))\n          ([x & more]\n           (pr x)\n           (. ^java.io.Writer @out (append \\space))\n           (if-let [nmore (next more)]\n             (recur (first more) nmore)\n             (apply pr more))))\n   :cljs (defn pr\n           [& objs]\n           (binding [*print-length* @print-length]\n             (.append @out (apply pr-str objs)))))\n\n#?(:clj\n   (defn flush\n     []\n     (. ^java.io.Writer @out (flush))\n     nil)\n   :cljs (defn flush [] ;stub\n           nil))\n\n#?(:cljs (declare println))\n\n#?(:clj (defn newline\n          []\n          (. ^java.io.Writer @out (append ^String @#'clojure.core/system-newline))\n          nil)\n   :cljs (defn newline\n           []\n           (println)))\n\n#?(:clj\n   (defn prn\n     [& more]\n     (apply pr more)\n     (newline)\n     (when *flush-on-newline*\n       (flush)))\n   :cljs\n   (defn prn\n     [& objs]\n     (binding [*print-length* @print-length]\n       (.append @out (apply prn-str objs)))))\n\n#?(:clj\n   (defn print\n     [& more]\n     (binding [*print-readably* nil]\n       (apply pr more)))\n   :cljs\n   (defn print\n     [& objs]\n     (binding [*print-length* @print-length]\n       (.append @out (apply print-str objs)))))\n\n#?(:clj\n   (defn println\n     [& more]\n     (binding [*print-readably* nil]\n       (apply prn more)))\n   :cljs\n   (defn println\n     [& objs]\n     (binding [*print-length* @print-length]\n       (.append @out (apply println-str objs)))))\n\n#?(:clj\n   (defn printf\n     [fmt & args]\n     (print (apply format fmt args))))\n\n(defn with-out-str\n  [_ _ & body]\n  `(let [s# (new #?(:clj java.io.StringWriter\n                    :cljs goog.string.StringBuffer))]\n     (binding [*out* s#]\n       ~@body\n       (str s#))))\n\n#?(:clj\n   (defn with-in-str\n     [_ _ s & body]\n     `(with-open [s# (-> (java.io.StringReader. ~s) clojure.lang.LineNumberingPushbackReader.)]\n        (binding [*in* s#]\n          ~@body))))\n\n#?(:clj\n   (defn read-line\n     []\n     (if (instance? clojure.lang.LineNumberingPushbackReader @in)\n       (.readLine ^clojure.lang.LineNumberingPushbackReader @in)\n       (.readLine ^java.io.BufferedReader @in))))\n"]}