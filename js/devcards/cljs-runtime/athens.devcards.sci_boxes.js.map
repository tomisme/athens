{"version":3,"sources":["athens/devcards/sci_boxes.cljs"],"mappings":";;;;;;;;AAUA,AAAKA,AAAIC;AAGT,AAAA,AAAMC,AACHC;AADH,AAEE,AAACH,AAAAA,AAAAA,AAAIG,AAAAA;;AAAGA;;AAGV,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA;;AAwBA,AAAAH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;AAKA;;;;;AAAA,AAAMG,AAIHC,AAAEC;AAJL,AAKE,AAACC,AAAI,AAACC,AAAO,AAAA,AAACC,AAAOJ,AAAIC,AAAO,AAACI,AAAOL,AAAE,AAAA,AAAKC;;AAGjD,AAAA,AAAMK,AACHC,AAAIC;AADP,AAEE,AAACC,AAAM,AAACC,AAAa,AAAKC,AAAIjB;AAAT,AACE,AAAM,AAACkB,AAAElB,AAAEc;AAAX,AACEG;;AADF;;AAEFJ;;AAGvB,AAAAZ,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACE,AAAAiB,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAD,AAAAA;;AAAA,AAAA,AAAAE,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAAE;AAAA,AAAA,AAAAF,AAAAE;AAAA,AAAA,AAAA,AAAAE,AAAAJ;AAAA,AAAAK,AAu3EiD,AAAA4J,AAAAjK;AAv3EjDM,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAJ;AAAA,AAAAK,AAAA,AAAAC,AAAAP,AAAAK;AAAA,AAAAG,AAAAF,AAAA,AAAA,AAAOW;AAAP,AAAAT,AAAAF,AAAA,AAAA,AAASY;AAAT,AAAA,AAAA,AAAAT,AAAAN,AAOE,AAAA,AAAA,AAAA,AAACzB,AAAUuC,AAAU,AAACE,AAAgBF,AAAEC,AACjC,AAAA,AAAA,AAAA,AAAA,AAAMA,AACGA;;AATlB,AAAA,AAAAb,AAAA;;;;AAAA;;;;;AAAA,AAAAK,AAAA,AAAAC,AAAAR,AAAA,AAAAS,AAAA,AAAAC,AAAAlB;;AAAA,AAAAe,AAAA,AAAAC,AAAAR,AAAA;;;AAAA,AAAAW,AAAA,AAAAxB,AAAAK;AAAA,AAAAa,AAAAM,AAAA,AAAA,AAAOG;AAAP,AAAAT,AAAAM,AAAA,AAAA,AAASI;AAAT,AAAA,AAAAH,AAAA,AAAAH,AAAA,AAAAI,AAAArB,AAOE,AAAA,AAAA,AAAA,AAACjB,AAAUuC,AAAU,AAACE,AAAgBF,AAAEC,AACjC,AAAA,AAAA,AAAA,AAAA,AAAMA,AACGA;;;AATlB;;;;AAAA,AAAA;;AAAA,AAAA,AAAAxB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AADF,AAAA,AAAA,AAAA;;AAaA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAK0B;AAQL,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC;AAKL,AAAA7C,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA;;AAiBA,AAAA,AAAA2C,AAAAC,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AACP,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AACmB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACjD,AAAM2C,AAEP,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAC3C,AAAM2C,AAGP,AAAA,AAAA,AAAA,AAAC3C,AAAM2C,AACP,AAAA,AAAA,AAAA,AAAC3C,AAAM2C;;AAG7B,AAAA7C,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAoBiD;;AAGpB,AAAA,AAAME,AACHC,AAAMC;AADT,AAEE,AAACC,AAAK,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAA,AAAAxB,AAAAyB,AAAA,AAAA,AAAMC;AAAN,AAAA1B,AAAAyB,AAAA,AAAA,AAASE;AAAT,AACE,AAAM,AAAA,AAACJ,AAAOD,AAAU,AAAA,AAAeK;AAAvC,AACED;;AADF;;AAEFL;;AAGR,AAAA,AAAAO,AAAMM;AAAN,AAAA,AAAAL,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AACWM;AADX,AAEE,AAAA,AAACC,AAAiBD;;AAGpB,AAAA,AAAAE,AAAME,AAC2BC;AADjC,AAAA,AAAAF,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAR,AAAA,AAAAQ,AAAA,AAAA,AAAA,AAAA,AAAAP,AAAAC,AAAAM,AAAAA;AAAAA,AAC4BX;AAD5B,AAAAM,AAAAK,AAAA,AACWH;AADX,AAEE,AAAA,AAAQ,AAACD,AAAUP;AACjBA;;AACA,AAAMc,AAAK,AAAA,AAACC,AAAKP;AACXQ,AAAO,AAAA,AACE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAChC,AAAgB8B,AAAqB,AAAA,AAASD;AADjD,AAAA,AAAAI,AAESC;AAFT,AAAAD,AAEkBE;AAFlB,AAGI,AAAChF,AAAMgF;;AAHX,AAAA,AAAAF;;;;AADb,AAKE,AAAA,AAACG,AAAMpB,AAAYgB;;;AAIzB,AAAA,AAAMK,AACH3B,AAAM4B,AAAQvB;AADjB,AAEE,AAAI,AAACwB,AAAI,AAACD,AAAAA,AAAAA,AAAQvB,AAAAA;AAChBA;;AACA,AAAA,AAAMyB;AAAN,AAAa,AAAA9D,AAAqB,AAAC+B,AAAcC,AAAMK;AAA1C,AAAA,AAAArC;AAAA,AAAA,AAAAA,AAAW+D;AAAX,AACE,AAACJ,AAAAA,AAAAA,AAAY3B,AAAAA,AAAM4B,AAAAA,AAAQG,AAAAA;;AAD7B;;;AAAb,AAEE,AAAAC,AAAkB,AAAA,AAAA,AAAIhC,AAAM,AAACY,AAAIP,AAAkBpC;AAAnD,AAAA,AAAA+D;AAAA,AAAAA,AAASC;AAAT,AACE,AAAAD,AAAyB,AAAA,AAAAG,AAACjC;AAAD,AAAO,AAAM,AAAC2B,AAAI,AAAAM,AAAAA,AAACP,AAAAA,AAAAA;AAAZ,AAAAO;;AAAA;;AAEDF;AAF/B,AAAA,AAAAD;AAAA,AAAAA,AAASE;AAAT,AAGEA;;AACA,AAACJ;;;AACH,AAAMX,AAAO,AAACpB,AAAcC,AAAMK;AAC5B+B,AAAS,AAAA,AAAejB;AAD9B,AAEE,AAAAa,AAA2B,AAAA,AAAAM,AAACpC;AAAD,AAAO,AAAM,AAAC2B,AAAI,AAAAS,AAAAA,AAACV,AAAAA,AAAAA;AAAZ,AAAAU;;AAAA;;AAEDF;AAFjC,AAAA,AAAAJ;AAAA,AAAAA,AAASK;AAAT,AAGEA;;AACA,AAACP;;;;;AAGb,AAAA,AAAMS,AACHvC;AADH,AAEE,AAAOA,AAAMA;AAAb,AACO4B;AADP,AAEOvB;;AAFP,AAGE,AAAMC,AAAI,AAACM,AAAIZ,AAAMK;AACfc,AAAO,AAACP,AAAIZ,AAAM,AAACD,AAAcC,AAAMK;AACvCmC,AAAO,AAACd,AAAM1B,AAAMK,AAAG,AAACa,AAASZ,AAAIa;AACrCsB,AAAS,AAACC,AAAKd,AAAQvB;AACvBsC,AAAI,AAAChB,AAAY3B,AAAMyC,AAASpC;AAJtC,AAKE,AAAA,AAAAwB,AAAQc;AACNH;;AACA,AAAOA;AAAOC;AAASE;;;;;;;;;AAG/B,AAAA,AAAAC,AAAME,AAC4BnF,AAAI0C;AADtC,AAAA,AAAAwC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAApC,AAAA,AAAAoC,AAAA,AAAA,AAAA,AAAA,AAAAnC,AAAAC,AAAAkC,AAAAA;AAAAA,AAC6BvC;AAD7B,AAAAM,AAAAiC,AAAA,AACWE;AADX,AAEE,AAAMC,AAAQ,AAAA,AAAKrF;AAAnB,AACE,AAAA,AAAC+D,AAAMpB,AAAkB,AAAC2C,AAAMC,AACA,AAAA,AAAC9F,AAAO2F,AAAeC,AACvB3C,AACA,AAAChD,AAAO0F,AAAaC;;AAGzD,AAAA,AAAMG,AACHhC,AAAOlB;AADV,AAEE,AAAMtC,AAAI,AAACL,AAAS,AAAA,AAAe6D,AAAQlB;AAA3C,AACE,AAAA,AAACmD,AAAOjC,AAAqBpE,AAAgBY;;AAGjD,AAAA,AAAA0F,AAAME,AAC+BlD;AADrC,AAAA,AAAAiD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA7C,AAAA,AAAA6C,AAAA,AAAA,AAAA,AAAA,AAAA5C,AAAAC,AAAA2C,AAAAA;AAAAA,AAC8BG;AAD9B,AAAA7C,AAAA0C,AAAA,AACWE;AADX,AAAA5C,AAAA0C,AAAA,AACmBtD;AADnB,AAEE,AAAM+B,AAAU,AAAChC,AAAcC,AAAMK;AAC/B+B,AAAS,AAAA,AAAA,AAACsB,AAAO1D,AAAO+B;AACxBpE,AAAI,AAACL,AAAS8E,AAAS/B;AAF7B,AAGMoD,AACA,AAAA,AAACE,AAAgBC,AACjB,AAAA,AAACC,AAAcC,AAAO/B,AAAUe,AAAUnF,AAAI6F,AAC9C,AAAA,AAACO,AAAcC,AAAMR,AAAQhE,AAC7B,AAAA,AAACmE,AAAcpB;;AAGvB,AAAA,AAAA0B,AAAME,AACuB9D;AAD7B,AAAA,AAAA6D,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAzD,AAAA,AAAAyD,AAAA,AAAA,AAAA,AAAA,AAAAxD,AAAAC,AAAAuD,AAAAA;AAAAA,AACsBT;AADtB,AAAA7C,AAAAsD,AAAA,AACWlE;AADX,AAEE,AAAM+B,AAAU,AAAChC,AAAcC,AAAMK;AAArC,AACMoD,AACA,AAAA,AAAA,AAACW,AAAkBrC,AAAWoB,AAAa9C,AAC3C,AAAA,AAAC+C,AAAciB,AAAOhE,AACtB,AAAA,AAACsD,AAAcpB;;AAGvB,AAAA,AAAM+B,AACHtE,AAAMK,AAAGkE;AADZ,AAEE,AAAA,AAACR,AAAO/D,AAAMK,AAAG2D,AAAmBO;;AAGtC,AAAA,AAAMC,AACH/C,AAAEpB;AADL,AAEE,AAAiBoB;;AACjB,AAACgD,AAAM5E,AAAW0D,AAAYlD;;AAGhC,AAAA,AAAMqE,AACHjD,AAAEpB;AADL,AAEE,AAAAsE,AAA4B,AAAA,AAAAC,AAAA,AAAA,AAAClB,AAAQ7D,AAAmBQ;AAAxDsE,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAlE,AAAA,AAAAkE,AAAA,AAAA,AAAA,AAAA,AAAAjE,AAAAC,AAAAgE,AAAAA;AAAA,AAAA/D,AAAA+D,AAAA,AAAc7D;AAAd,AACE,AAAM,AAAC+D,AAAO/D;AAAd,AACE,AAAiBW;;AACjB,AAACgD,AAAM5E,AAAWsE,AAAW9D;;AAF/B;;;AAKJ,AAAA,AAAMyE,AACHrD,AAAEpB;AADL,AAEE,AAAM0E,AAAS,AAAWtD;AACpBuD,AAAO,AAAYvD;AACnBwD,AAAE,AAAC1F,AAAAA,AAAAA,AAAcwF,AAAAA;AAFvB,AAGE,AAAAG,AAAMD;AAANC,AAAA,AAAA,AAAAA,AAAAC,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAAA;AAAA;AACU,AAAM,AAACrD,AAAImD;AAAX,AACE,AAACR,AAAmB/C,AAAEpB;;AADxB;;;;AADV;AAGa,AAACqE,AAAsBjD,AAAEpB;;;;AAHtC;;;;AAOJ,AAAA,AAAM+E,AACH3D,AAAEpB;AADL,AAEE,AAAMgF,AAAO,AAAU5D;AACjB8C,AAAM,AAASc;AADrB,AAEE,AAAA,AAAAC,AAACC,AAAM1F;AAAP,AAEY,AAAAyF,AAAA,AAACvB,AAAcO,AAAmBjE,AAAGkE,AACrC,AAAA,AAACZ,AAAcpB;;;AAG/B,AAAA,AAAMiD,AACHlE;AADH,AAEE,AAAMA;AAAN,AACE,AAAAmE,AAAuBnE;AAAvBmE,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAhF,AAAA,AAAAgF,AAAA,AAAA,AAAA,AAAA,AAAA/E,AAAAC,AAAA8E,AAAAA;AAAA,AAAA7E,AAAA6E,AAAA,AAAcC;AAAd,AACE,AAAIA;AACFA;;AACA,AAAKpE;;;AAJX;;;AAQF,AAAA,AAAMqE;AAAN,AAEE,AAAMC,AAAK,AAAA,AAAC9F;AAAZ,AACE,AAAA,AAAA,AAAC+F,AACuB,AAAKC,AAAIC;AAAT,AACE,AAAA,AAACC,AAAOJ,AAAME,AAAIC;AAF5C,AAGmB,AAAKzE;AAAL,AACE,AAAI,AAAA,AAAAsD,AAAA,AAAOgB;AAAX,AACGJ,AAAqBlE;;AACtB,AAAA2E,AAAA,AAAArB,AAAgBgB;AAAhB,AAAAjH,AAAAsH,AAAA,AAAA,AAAOC;AAAP,AAAAvH,AAAAsH,AAAA,AAAA,AAASF;AAAT,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEU,AAAKA;AAFf,AAIyB,AAAA,AAACC,AAAOJ;AAJjC;;;;AAQ3B,AAAA,AAAMO,AACH9F;AADH,AAEE,AAAA+F,AAAA,AAAAxB,AAAuB/E;AAAvBuG,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA3F,AAAA,AAAA2F,AAAA,AAAA,AAAA,AAAA,AAAA1F,AAAAC,AAAAyF,AAAAA;AAAA,AAAAxF,AAAAwF,AAAA,AAAcpG;AAAdqG,AACwD,AAACzF,AAAIZ,AAAMK;AADnEgG,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA5F,AAAA,AAAA4F,AAAA,AAAA,AAAA,AAAA,AAAA3F,AAAAC,AAAA0F,AAAAA;AAAAA,AACmD/F;AADnD,AAAAM,AAAAyF,AAAA,AACcvF;AADd,AAAAF,AAAAyF,AAAA,AAC0BtD;AAD1B,AAAAnC,AAAAyF,AAAA,AACuC/E;AADvC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAgF,AAIIjG,AAGmBS;AAPvB,AAQ4B,AAAAwF,AAAClB,AAAqB/E;AARlD,AAAA,AAAAkG;AAAA,AAS8B,AAAAA,AAACzB,AAAuBzE;AAClD,AAAA,AAAA,AAAA,AAAM,AAACQ,AAAUP,AACdqF,AAAmBrE,AACvB,AAAA,AAAM,AAACrD,AAAI8E,AACT,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACyD,AACK,AAAA3I,AAAA,AAAA4I;AAAA,AAAA,AAAA1I,AAAA,AAAA;AAAA,AAAA,AAAA0I,AAAAA;;AAAA,AAAA,AAAAzI,AAAA,AAAAC,AAAAwI;AAAA,AAAA,AAAAzI;AAAA,AAAA,AAAAyI,AAAAzI;AAAA,AAAA,AAAA,AAAAE,AAAAuI;AAAA,AAAAtI,AAyoEsC,AAAA4J,AAAAtB;AAzoEtCrI,AAAA,AAAAC,AAAAF;AAAAuI,AAAA,AAAAnI,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAuI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAvI;AAAA,AAAA,AAAAM,AAAAP,AAAAwI,AAAMtG;AAAN,AAAA,AAAA,AAAAzB,AAAA8H,AAAA,AACGP,AAAc9F;;AADjB,AAAA,AAAAsG,AAAA;;;;AAAA;;;;;AAAA,AAAA9H,AAAA,AAAAC,AAAA4H,AAAA,AAAAE,AAAA,AAAA5H,AAAAyH;;AAAA,AAAA5H,AAAA,AAAAC,AAAA4H,AAAA;;;AAAA,AAAA,AAAAjJ,AAAAgJ,AAAMpG;AAAN,AAAA,AAAAnB,AAAA,AAAA,AAAA0H,AAAA,AAAAzH,AAAAsH,AACGN,AAAc9F;;;AADjB;;;;AAAA,AAAA;;AAAA,AAAA,AAAAxC,AAASkF;AAFjB;;AAML,AAAApG,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAA6C,AAAAC,AAAAC,AAAAkH;AAAA;AAAA,AAAA,AAAA;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAAC;;AAAA,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAAD,AAAAE;;;AAAA,AAAA,AAAA,AAAAF,AAAA,AAAAC;;AAAA,AAAA,AAAAA,AAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,AAAAF,AAAArG;;AAAA,AAAA,AAAA,AAAAqG,AAAA,AAAAG,AAAAC;;AAAA,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAAE,AACE;AACE,AAAA,AAACU,AAAMjI,AAAWiE,AAAcvB;;AADlC,AAAA,AAEG4D;;;AAHL,AAAA,AAAA,AAAAkB,AAAAD;AAAA,AAAAE,AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAAJ,AAAAE,AAAAC;;;AAAA,AAAAC,AAAAJ;;AAAA,AAAA,AAAAvK,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAAoK;;;AAAA,AAAA,AAAAJ,AAAA;AAAA,AAAA,AAAA;;;AAAA,AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAAA,AAAA,AAAAW,AAAAC,AAAAC;AAAA,AAAA,AAAAC,AAAAF,AAAA;;;AAAA;;;AAAAG,AAAA,AAAAb;AAAA,AAAA,AAAAF,AAAAE;;;AAAAF;;AAAA,AAAAA,AAAA;;AAAA,AAAA,AAAA,AAAA,AAAA,AAAA","names":["athens.devcards.sci-boxes/log","js/console.log","athens.devcards.sci-boxes/trace","x","devcards.core/register-card","devcards.core/card-base","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","devcards.core/assert-options-map","athens.devcards.sci-boxes/remove-from-vec","v","index","cljs.core/vec","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core.subvec.cljs$core$IFn$_invoke$arity$3","cljs.core.subvec.cljs$core$IFn$_invoke$arity$2","athens.devcards.sci-boxes/index-of","col","val","cljs.core/first","cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2","idx","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","iter__4582__auto__","s__61161","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4580__auto__","size__4581__auto__","cljs.core/count","b__61163","cljs.core/chunk-buffer","i__61162","vec__61164","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__61160","cljs.core/chunk-rest","vec__61167","cljs.core/cons","cljs.core/rest","s","opts","sci.core.eval_string.cljs$core$IFn$_invoke$arity$2","athens.devcards.sci-boxes/key-code->key","athens.devcards.sci-boxes/empty-box","js/athens","js/athens.devcards","js/athens.devcards.sci-boxes","js/athens.devcards.sci-boxes.box-state*","athens.devcards.sci-boxes/box-state*","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","athens.devcards.sci-boxes/get-parent-id","boxes","child-id","cljs.core/some","p__61170","vec__61171","id","box","p__61174","map__61175","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","athens.devcards.sci-boxes/sci-node?","str-content","clojure.string/starts-with?","p__61177","map__61178","athens.devcards.sci-boxes/eval-box","parent","code","cljs.core.subs.cljs$core$IFn$_invoke$arity$2","result","e61180","js/Error","e","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","athens.devcards.sci-boxes/next-box-id","visited","cljs.core/not","go-up","parent-id","temp__5733__auto__","children","unvisited-child","p1__61181#","siblings","unvisited-sibling","p1__61182#","athens.devcards.sci-boxes/eval-all-boxes","boxes'","visited'","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","id'","p__61183","map__61184","athens.devcards.sci-boxes/add-child","children-ids","new-idx","cljs.core.apply.cljs$core$IFn$_invoke$arity$4","cljs.core/conj","athens.devcards.sci-boxes/remove-child","cljs.core.update.cljs$core$IFn$_invoke$arity$4","p__61186","map__61187","athens.devcards.sci-boxes/add-sibling","next-id","state","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","cljs.core.update.cljs$core$IFn$_invoke$arity$3","cljs.core/inc","cljs.core.update.cljs$core$IFn$_invoke$arity$variadic","cljs.core/update","cljs.core.update.cljs$core$IFn$_invoke$arity$5","cljs.core/assoc","p__61189","map__61190","athens.devcards.sci-boxes/delete-box","cljs.core.update_in.cljs$core$IFn$_invoke$arity$4","cljs.core/dissoc","athens.devcards.sci-boxes/update-box-content","value","athens.devcards.sci-boxes/handle-return-key!","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3","athens.devcards.sci-boxes/handle-backspace-key!","map__61192","cljs.core/deref","cljs.core/empty?","athens.devcards.sci-boxes/handle-box-key-down!","key-code","shift?","k","G__61194","cljs.core/Keyword","athens.devcards.sci-boxes/handle-box-change!","target","p1__61195#","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2","athens.devcards.sci-boxes/sci-result-component","map__61196","hiccup","athens.devcards.sci-boxes/sci-result-wrapper","err*","reagent.core/create-class","err","info","cljs.core/reset!","vec__61198","_","athens.devcards.sci-boxes/box-component","map__61203","map__61204","p1__61201#","p1__61202#","cljs.core.into.cljs$core$IFn$_invoke$arity$2","s__61208","b__61210","i__61209","iter__61207","js/athens.devcards.sci-boxes.t_athens$devcards$sci_boxes61211","athens.devcards.sci-boxes/t_athens$devcards$sci_boxes61211","_61213","meta61212","this__42228__auto__","devcard-opts__42229__auto__","cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic","v__42247__auto__","cljs.core/fn?","data-atom__42248__auto__","owner__42249__auto__","reagent.core/as-element","this__4428__auto__","writer__4429__auto__","opt__4430__auto__","cljs.core/-write","athens.devcards.sci-boxes/->t_athens$devcards$sci_boxes61211","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4","cljs.core/chunk-first"],"sourcesContent":["(ns athens.devcards.sci-boxes\n  (:require\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [clojure.string :as str]\n    [devcards.core :as devcards :refer [defcard defcard-rg]]\n    [reagent.core :as rg]\n    [sci.core :as sci]))\n\n\n(def log js/console.log)\n\n\n(defn trace\n  [x]\n  (log x) x)\n\n\n(defcard \"\n  # An experiment in connecting mini SCI environments\n\n  Let's say you could put executable code in Athens' blocks.\n\n  Some questions:\n   - In what order do we evaluate our blocks?\n   - How do we pass data in and out of our blocks?\n   - How do we handle async code?\n\n  Attempted approach:\n   - Blocks are passed the evaluated result of their parent (`*1`)\n\n   Some other approaches:\n   - Blocks inherit the environment of their parent\n   - Blocks mutate a global environment\n   - Blocks are babashka pods?\n\n  Fun stuff to try:\n   - Pass in the datascript connection\n   - `spit`/`slurp` to IPFS etc.\n  \")\n\n\n(defcard sci\n  \"## Small Clojure Interpreter\n   https://github.com/borkdude/sci\")\n\n\n(defn remove-from-vec\n  \"Returns a new vector with the element at 'index' removed.\n\n  (remove-from-vec [:a :b :c] 1)  =>  [:a :c]\"\n  [v index]\n  (vec (concat (subvec v 0 index) (subvec v (inc index)))))\n\n\n(defn index-of\n  [col val]\n  (first (keep-indexed (fn [idx x]\n                         (when (= x val)\n                           idx))\n                       col)))\n\n\n(defcard sci-examples\n  (for [[s opts]\n        [[\"(inc 1)\"]\n         [\"x\" {:bindings {'x 1}}]\n         [\"{:hiccup [:span \\\"Hello\\\"]}\"]\n         [\"(def a 1)\"]\n         [\":a\"]\n         [\"(require '[lib]) lib/msg\" {:namespaces {'lib {'msg \"hi\"}}}]]]\n    (merge {:s s :result (sci/eval-string s opts)}\n           (when opts\n             {:opts opts}))))\n\n\n(def key-code->key\n  {8   :backspace\n   9   :tab\n   13  :return\n   57  :left-paren\n   219 :left-brace})\n\n\n(def empty-box\n  {:str-content \"\"\n   :children-ids []})\n\n\n(defcard \"\n  ## Experiment #1\n   - A tree of boxes\n   - If a box's `:str-content` begins with `:sci`,\n     evaluate the rest of the string with SCI and assign it to `:result`\n   - Child boxes are passed their parent's `:result` as `*1`, like a REPL\n   - Every time a box's content changes, naively re-evaluate the whole tree top to bottom!\n   - If a box's `:result` is a map with a `hiccup` key, render it after the box\n\n  ENTER key makes a new sibling (if not root)\n\n  SHIFT-ENTER to make a new line\n\n  BACKSPACE in an empty box deletes it\n  \")\n\n\n(defonce box-state*\n  (rg/atom {:next-id 4\n            :boxes {0 (merge empty-box {:children-ids [1 3]\n                                        :str-content \":sci {:message \\\"\ud83c\udf3b\\\" :size 70}\"})\n                    1 (merge empty-box {:children-ids [2]\n                                        :str-content \":sci (merge *1 {:hiccup [:div {:style {:font-size (:size *1)}} (:message *1)]})\"})\n\n                    2 (merge empty-box {:str-content \"I am just a \ud83c\udf43\"})\n                    3 (merge empty-box {:str-content \":sci (:message *1)\"})}}))\n\n\n(defcard box-state* box-state*)\n\n\n(defn get-parent-id\n  [boxes child-id]\n  (some (fn [[id box]]\n          (when (some #{child-id} (:children-ids box))\n            id))\n        boxes))\n\n\n(defn sci-node?\n  [{:keys [str-content]}]\n  (str/starts-with? str-content \":sci\"))\n\n\n(defn eval-box\n  [{:keys [str-content] :as box} parent]\n  (if-not (sci-node? box)\n    box\n    (let [code (subs str-content 4)\n          result (try\n                   (sci/eval-string code {:bindings {'*1 (:result parent)}})\n                   (catch js/Error e\n                     (trace e)))]\n      (assoc box :result result))))\n\n\n;; very naive depth-first search, probably buggy\n(defn next-box-id\n  [boxes visited id]\n  (if (not (visited id))\n    id\n    (let [go-up #(when-let [parent-id (get-parent-id boxes id)]\n                   (next-box-id boxes visited parent-id))]\n      (if-let [children (-> boxes (get id) :children-ids seq)]\n        (if-let [unvisited-child (some #(when (not (visited %))\n                                          %)\n                                       children)]\n          unvisited-child\n          (go-up))\n        (let [parent (get-parent-id boxes id)\n              siblings (:children-ids parent)]\n          (if-let [unvisited-sibling (some #(when (not (visited %))\n                                              %)\n                                           siblings)]\n            unvisited-sibling\n            (go-up)))))))\n\n\n(defn eval-all-boxes\n  [boxes]\n  (loop [boxes boxes\n         visited #{}\n         id 0]\n    (let [box (get boxes id)\n          parent (get boxes (get-parent-id boxes id))\n          boxes' (assoc boxes id (eval-box box parent))\n          visited' (conj visited id)\n          id' (next-box-id boxes visited' id)]\n      (if-not id'\n        boxes'\n        (recur boxes' visited' id')))))\n\n\n(defn add-child\n  [{:keys [children-ids] :as box} idx id]\n  (let [new-idx (inc idx)]\n    (assoc box :children-ids (apply conj\n                                    (subvec children-ids 0 new-idx)\n                                    id\n                                    (subvec children-ids new-idx)))))\n\n\n(defn remove-child\n  [parent child-id]\n  (let [idx (index-of (:children-ids parent) child-id)]\n    (update parent :children-ids remove-from-vec idx)))\n\n\n(defn add-sibling\n  [{:keys [next-id boxes] :as state} id]\n  (let [parent-id (get-parent-id boxes id)\n        siblings (get-in boxes [parent-id :children-ids])\n        idx (index-of siblings id)]\n    (-> state\n        (update :next-id inc)\n        (update :boxes update parent-id add-child idx next-id)\n        (update :boxes assoc next-id empty-box)\n        (update :boxes eval-all-boxes))))\n\n\n(defn delete-box\n  [{:keys [boxes] :as state} id]\n  (let [parent-id (get-parent-id boxes id)]\n    (-> state\n        (update-in [:boxes parent-id] remove-child id)\n        (update :boxes dissoc id)\n        (update :boxes eval-all-boxes))))\n\n\n(defn update-box-content\n  [boxes id value]\n  (update boxes id assoc :str-content value))\n\n\n(defn handle-return-key!\n  [e id]\n  (.preventDefault e)\n  (swap! box-state* add-sibling id))\n\n\n(defn handle-backspace-key!\n  [e id]\n  (let [{:keys [str-content]} (get-in @box-state* [:boxes id])]\n    (when (empty? str-content)\n      (.preventDefault e)\n      (swap! box-state* delete-box id))))\n\n\n(defn handle-box-key-down!\n  [e id]\n  (let [key-code (.-keyCode e)\n        shift? (.-shiftKey e)\n        k (key-code->key key-code)]\n    (case k\n      :return (when (not shift?)\n                (handle-return-key! e id))\n      :backspace (handle-backspace-key! e id)\n      nil)))\n\n\n(defn handle-box-change!\n  [e id]\n  (let [target (.-target e)\n        value (.-value target)]\n    (swap! box-state*\n           #(-> %\n                (update :boxes update-box-content id value)\n                (update :boxes eval-all-boxes)))))\n\n\n(defn sci-result-component\n  [result]\n  (when result\n    (let [{:keys [hiccup]} result]\n      (if hiccup\n        hiccup\n        (str result)))))\n\n\n;; resulting :hiccup could be malformed, catch errors & allow retry\n(defn sci-result-wrapper\n  []\n  (let [err* (rg/atom nil)]\n    (rg/create-class\n      {:component-did-catch (fn [err info]\n                              (reset! err* [err info]))\n       :reagent-render (fn [result]\n                         (if (nil? @err*)\n                           [sci-result-component result]\n                           (let [[_ info] @err*]\n                             [:div\n                              [:code (str info)]\n                              [:div\n                               [:button {:on-click #(reset! err* nil)}\n                                \"re-render\"]]])))})))\n\n\n(defn box-component\n  [id]\n  (let [{:keys [boxes]} @box-state*\n        {:keys [str-content children-ids result] :as box} (get boxes id)]\n    [:div\n     [:div {:style {:display \"flex\"}}\n      id\n      [:textarea {:style {:font-size \"1rem\"\n                          :width \"30rem\"}\n                  :value str-content\n                  :on-change #(handle-box-change! % id)\n                  :on-key-down #(handle-box-key-down! % id)}]\n      (when (sci-node? box)\n        [sci-result-wrapper result])]\n     (when (seq children-ids)\n       (into [:div {:style {:margin-left \"1rem\"}}]\n             (for [id children-ids]\n               [box-component id])))]))\n\n\n(defcard-rg boxes\n  (do\n    (swap! box-state* update :boxes eval-all-boxes)\n    [box-component 0]))\n"]}