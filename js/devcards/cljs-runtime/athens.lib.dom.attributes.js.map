{"version":3,"sources":["athens/lib/dom/attributes.cljc"],"mappings":";;;AAKA,AAAA,AAAMA,AACHC,AAAMC;AADT,AAEE,AAAMC,AAAU,AAAI,AAASD,AACXA,AACA,AAAA,AAACE,AAAwBF;AAF3C,AAGE,AAAA,AAACG,AAAOJ,AAAa,AAAKK;AAAL,AACE,AAAIA;AACF,AAAA,AAAKA,AAAMH;;AACXA;;;;AAG7B,AAAA,AAAA,AAAAI,AAAMM;AAAN,AAAA,AAAAL,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAD;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAAE;;AAAA,AAAA,AAAAA,AAAA;;;;AAAA;;;;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAAI,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAK,AAAAF;;;AAAA,AAAA,AAAA,AAAA,AAAME,AACDX;AADL,AAEE;;;AAAA,AACM,AAAA,AAACe;;AACHhB;AAFJ,AAGG,AAACD,AAAkBC,AAAMC;;AADxBD;;;;;AAAAA;;;;;;;;;;AAJN,AAAA,AAAA,AAAMY;;AAAN;AAAA,AAAA,AAAA,AAAAC,AAAMD;AAAN,AAAA,AAAAE,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC,AAAAF;;;AAAA,AAQA,AAAA,AAAA,AAAAP,AAAMW;AAAN,AAAA,AAAAV,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAD;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAAE;;AAAA,AAAA,AAAAA,AAAA;;;;AAAA;;;;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAAI,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAU,AAAAP;;;AAAA,AAAA,AAAA,AAAA,AAAMO,AACDE;AADL,AAEE,AAACC,AAAO,AAAKC,AAAIC;AAAT,AACE,AACE,AAACC,AAAID;AACL,AAACA,AAAAA,AAAAA,AAAUD,AAAAA;;AAFb,AAIE,AAACG,AAAKF;AACN,AAACG,AAAU,AAAKC,AAAKC,AAAUC;AAApB,AACE,AAAAC,AAAMF;AAANE,AAAA,AAAA,AAAAA,AAAAC,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAAA;AAAA;AACS,AAAC9B,AAAkB2B,AAAKE;;;;AAI/B,AAACG,AAAML,AAAKC,AAAUC;;;AAC1BP,AACAC;;AAbb,AAgBE,AAAO,AAAA,AAAA,AAACU,AAAQ,AAAyCV;;;;AAjBrE,AAkBWH;;;AApBb,AAAA,AAAA,AAAMF;;AAAN;AAAA,AAAA,AAAA,AAAAC,AAAMD;AAAN,AAAA,AAAAH,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC,AAAAG;;;AAAA,AAuBA","names":["athens.lib.dom.attributes/merge-dom-classes","attrs","dom-classes","class-str","clojure.string.join.cljs$core$IFn$_invoke$arity$2","cljs.core.update.cljs$core$IFn$_invoke$arity$3","s","var_args","args__4795__auto__","len__4789__auto__","i__4790__auto__","argseq__4796__auto__","cljs.core/IndexedSeq","athens.lib.dom.attributes/with-classes","seq48890","self__4777__auto__","cljs.core/seq","athens$lib$dom$attributes$f.cljs$core$IFn$_invoke$arity$1","athens.lib.dom.attributes/with-attributes","seq48891","attributes","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","acc","map-or-fn","cljs.core/fn?","cljs.core/map?","cljs.core/reduce-kv","acc0","attribute","v","G__48892","cljs.core/Keyword","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2"],"sourcesContent":["(ns athens.lib.dom.attributes\n  (:require\n    [clojure.string]))\n\n\n(defn merge-dom-classes\n  [attrs dom-classes]\n  (let [class-str (if (string? dom-classes)\n                    dom-classes\n                    (clojure.string/join \" \" dom-classes))]\n    (update attrs :class (fn [s]\n                           (if s\n                             (str s \" \" class-str)\n                             class-str)))))\n\n\n(defn with-classes\n  [& dom-classes]\n  (fn f\n    ([] (f nil))\n    ([attrs]\n     (merge-dom-classes attrs dom-classes))))\n\n\n(defn with-attributes\n  [& attributes]\n  (reduce (fn [acc map-or-fn]\n            (cond\n              (fn? map-or-fn)\n              (map-or-fn acc)\n\n              (map? map-or-fn)\n              (reduce-kv (fn [acc0 attribute v]\n                           (case attribute\n                             :class (merge-dom-classes acc0 v)\n\n                             ;; Potentially override whatever is there\n                             ;;  (e.g. we cannot merge on-change handlers)\n                             (assoc acc0 attribute v)))\n                         acc\n                         map-or-fn)\n\n              :else\n              (throw (ex-info (str \"Expected map or function\") {:value map-or-fn}))))\n          {} attributes))\n\n\n(comment\n\n  (with-attributes\n    {:class \"foo bar\"}\n    {:class \"baz poo\"}\n    {:style {:color :red}}\n    )\n  )\n"]}